@model IEnumerable<BecaDotNet.UI.MVC.RazorView.Models.ViewModel.ProjetoUserViewModel>
@{
    ViewBag.Title = "Entry";
    Layout = "~/Views/Shared/Layout.cshtml";
    Page.Title = "Registro";
}

<div class="col-10 mx-auto shadow mb-4 mt-4 p-5" style="border-radius: 10px; background-color:white">
    <h2>Registro</h2>

    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Projeto</th>
                <th scope="col">User</th>
                <th scope="col">Responsavel</th>
                <th scope="col">Início</th>
                <th scope="col">Data final</th>
                <th scope="col">Opções</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>

            @foreach (var item in Model)
            {
            <tr>
                <td>@item.Id</td>
                <td>@item.ProjNome</td>
                <td>@item.UserNome</td>
                <td>@item.IsResponsavel</td>
                <td>@item.DataInicio</td>
                @if (item.DataFinal == DateTime.MinValue)
                {
                    <td>Sem previsão</td>
                }
                else
                {
                    <td>@item.DataFinal.Date</td>
                }

                @if (item.IsActive == false)
                {
                    <td><button class="btn btn-block btn-dark" disabled>Finalizado</button> </td>
                }
                else
                {
                    <td>@Html.ActionLink("Finalizar", "FinalizaProjeto", "User", new { id = item.Id }, new { @class = "btn btn-block btn-danger" })</td>
                }

            </tr>
            }

        </tbody>
    </table>
</div>


